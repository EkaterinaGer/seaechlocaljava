# Локальный поисковый движок по сайту

Проект представляет собой локальный поисковый движок, который обходит указанный сайт, индексирует его страницы в PostgreSQL и позволяет выполнять поиск по проиндексированному контенту.

## Возможности

- **Обход веб-страниц**: Автоматический обход сайта с настраиваемой глубиной и количеством страниц
- **Индексация**: Сохранение контента страниц и создание поискового индекса в PostgreSQL
- **Поиск**: Быстрый поиск по проиндексированному контенту с ранжированием результатов
- **Статистика**: Просмотр статистики по индексу

## Требования

- Java 11 или выше
- Maven 3.6+
- PostgreSQL 12+

## Установка и настройка

### 1. Создание базы данных PostgreSQL

```sql
CREATE DATABASE search_engine;
```

Или используйте скрипт:
```bash
psql -U postgres -f init_database.sql
```

### 2. Настройка подключения

Отредактируйте файл `src/main/resources/database.properties`:

```properties
db.url=jdbc:postgresql://localhost:5432/search_engine
db.username=postgres
db.password=your_password
```

### 3. Сборка проекта

```bash
mvn clean compile
```

### 4. Запуск приложения

```bash
mvn exec:java -Dexec.mainClass="com.searchlocal.Main"
```

Или скомпилируйте и запустите JAR:

```bash
mvn clean package
java -jar target/search-local-engine-1.0-SNAPSHOT.jar
```

## Использование

После запуска приложения откроется интерактивное меню:

1. **Обход и индексация сайта** - введите URL сайта для обхода и индексации
2. **Поиск** - введите поисковый запрос для поиска по индексу
3. **Статистика** - просмотр статистики по индексу
4. **Очистить индекс** - удаление всех данных из индекса

## Структура проекта

```
src/main/java/com/searchlocal/
├── Main.java                 # Главный класс приложения
├── crawler/
│   └── WebCrawler.java       # Обход веб-страниц
├── indexer/
│   └── Indexer.java          # Индексация страниц
├── search/
│   └── SearchEngine.java     # Поиск по индексу
├── database/
│   └── DatabaseManager.java  # Управление БД
├── model/
│   ├── Page.java             # Модель страницы
│   ├── IndexEntry.java       # Модель записи индекса
│   └── SearchResult.java     # Модель результата поиска
└── util/
    └── TextUtils.java        # Утилиты для работы с текстом
```

## Конфигурация

Параметры можно настроить в `src/main/resources/database.properties`:

- `crawler.maxDepth` - максимальная глубина обхода (по умолчанию: 3)
- `crawler.maxPages` - максимальное количество страниц (по умолчанию: 100)
- `search.maxResults` - максимальное количество результатов поиска (по умолчанию: 10)

## Технологии

- **Java 11**
- **Maven** - управление зависимостями
- **PostgreSQL** - база данных
- **Jsoup** - парсинг HTML
- **HikariCP** - пул соединений с БД
- **SLF4J** - логирование

## Лицензия

Проект создан в учебных целях.

